var backtop=angular.module("angular.backtop",[]);backtop.directive("backTop",[function(){return{restrict:"E",transclude:!0,replace:!0,template:'<div id="backtop" class="{{theme}}"><button>{{text}}</button></div>',scope:{text:"@buttonText",speed:"@scrollSpeed",theme:"@buttonTheme"},link:function(a,b){var c=this;c.currentYPosition=function(){return c.pageYOffset?c.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0},c.smoothScroll=function(){var b=c.currentYPosition(),d=0,e=d>b?d-b:b-d;if(100>e)return void scrollTo(0,d);var f=Math.round(a.speed/100),g=Math.round(e/25),h=d>b?b+g:b-g,i=0;if(d>b)for(var j=b;d>j;j+=g)setTimeout("window.scrollTo(0, "+h+")",i*f),h+=g,h>d&&(h=d),i++;else for(var k=b;k>d;k-=g)setTimeout("window.scrollTo(0, "+h+")",i*f),h-=g,d>h&&(h=d),i++},c.button=b.find("button"),c.button.on("click",function(){c.smoothScroll(),b.removeClass("show")}),window.addEventListener("scroll",function(){console.log(document.body.offsetHeight),window.innerHeight+window.scrollY>=document.body.offsetHeight?(b.addClass("show"),console.log("showing")):(b.removeClass("show"),console.log("hiding"))})}}}]);