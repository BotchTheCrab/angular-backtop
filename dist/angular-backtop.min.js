var backtop=angular.module("angular.backtop",[]);backtop.directive("backTop",[function(){return{restrict:"A",scope:{text:"@buttonText",speed:"@scrollSpeed"},link:function(a,b){var c=this;c.currentYPosition=function(){return c.pageYOffset?c.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0},c.smoothScroll=function(){var b=c.currentYPosition(),d=0,e=d>b?d-b:b-d;if(100>e)return void scrollTo(0,d);var f=Math.round(a.speed/100),g=Math.round(e/25),h=d>b?b+g:b-g,i=0;if(d>b)for(var j=b;d>j;j+=g)setTimeout("window.scrollTo(0, "+h+")",i*f),h+=g,h>d&&(h=d),i++;else for(var j=b;j>d;j-=g)setTimeout("window.scrollTo(0, "+h+")",i*f),h-=g,d>h&&(h=d),i++},b.append('<button id="back">'+a.text+"</button"),c.button=document.getElementById("back"),c.button.addEventListener("click",function(){c.smoothScroll(),c.button.classList.remove("show")}),window.addEventListener("scroll",function(){console.log(document.body.offsetHeight),window.innerHeight+window.scrollY>=document.body.offsetHeight?(c.button.classList.add("show"),console.log("showing")):(c.button.classList.remove("show"),console.log("hiding"))})}}}]);